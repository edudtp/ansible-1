- name: Instalando o Docker
  shell: curl -fsSL https://get.docker.com | bash

- name: Install a list of packages
  apt:
    pkg:
    - apt-transport-https
    - ca-certificates
    - curl
    - git
    - gnupg2  
    - software-properties-common
    - python3-pip
    - npm
    - nodejs
    - ansible
    update_cache: yes

- name: Install "NPM" node.js package globally.
  npm:
    name: npm
    global: yes

- name: Install Compose
  pip:
    executable: pip3
    name: 
        - docker-compose==1.9.0
    
- name: Clonando o REPO
  git:
    repo: "{{ git_repo }}"
    dest: /tmp/awx
    version: 17.1.0
    force: yes
    
- name: 'Configura Arquivo de invent√°rio'
  template:
    src: 'inventory.j2'
    dest: '/tmp/awx/installer/inventory'
  become: yes